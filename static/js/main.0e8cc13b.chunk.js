(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{130:function(e,t,a){e.exports=a.p+"static/media/236832.f07d66e0.png"},131:function(e,t,a){"use strict";a.d(t,"b",(function(){return i}));var n=a(48),r=a(11),s="s_way_1/dialogs/SEND-MESSAGE",o={dialogs:[{id:1,name:"Helen"},{id:2,name:"Alex"},{id:3,name:"Andrey"},{id:4,name:"Ivan"}],messages:[{id:1,message:"Hi",dialogId:2,isMyMessage:!0},{id:2,message:"How is your name?",dialogId:2,isMyMessage:!0},{id:3,message:"My name is ...",dialogId:2,isMyMessage:!1},{id:4,message:"Yet another message",dialogId:2,isMyMessage:!0},{id:5,message:"Yet another message",dialogId:2,isMyMessage:!1}]},i=function(e){return{type:s,newMessageText:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(r.a)({},e,{messages:[].concat(Object(n.a)(e.messages),[{id:6,message:t.newMessageText,dialogId:2,isMyMessage:!0}])});default:return e}}},132:function(e,t,a){"use strict";a.d(t,"d",(function(){return p})),a.d(t,"f",(function(){return d})),a.d(t,"e",(function(){return f})),a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return h}));var n=a(10),r=a.n(n),s=a(18),o=a(48),i=a(11),c=a(19),l="s_way_1/users/TOGGLE_FOLLOW",u="s_way_1/users/SET_USERS",m={users:[],pageSize:100,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},p=function(e){return{type:l,userId:e}},d=function(e){return{type:"s_way_1/users/TOGGLE_IS_FETCHING",isFetching:e}},f=function(e,t){return{type:"s_way_1/users/TOGGLE_IS_FOLLOWING_PROGRESS",followingInProgress:e,userId:t}},v=function(e,t){return function(){var a=Object(s.a)(r.a.mark((function a(n){var s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(d(!0)),n({type:"s_way_1/users/SET_CURRENT_PAGE",currentPage:e}),a.next=4,c.c.getUsers(e,t);case 4:s=a.sent,n(d(!1)),n((r=s.items,{type:u,users:r})),n({type:"s_way_1/users/SET_TOTAL_COUNT",totalUsersCount:s.totalCount});case 8:case"end":return a.stop()}var r}),a)})));return function(e){return a.apply(this,arguments)}}()},h=function(e,t){return function(){var a=Object(s.a)(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(f(!0,t)),a.next=3,c.c.follow(e,t);case 3:a.sent.resultCode,n(p(t)),n(f(!1,t));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)({},e,{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)({},e,{followed:!e.followed}):e}))});case u:return Object(i.a)({},e,{users:t.users});case"s_way_1/users/SET_CURRENT_PAGE":return Object(i.a)({},e,{currentPage:t.currentPage});case"s_way_1/users/SET_TOTAL_COUNT":return Object(i.a)({},e,{totalUsersCount:t.totalUsersCount});case"s_way_1/users/TOGGLE_IS_FETCHING":return Object(i.a)({},e,{isFetching:t.isFetching});case"s_way_1/users/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(i.a)({},e,{followingInProgress:t.followingInProgress?[].concat(Object(o.a)(e.followingInProgress),[t.userId]):[e.followingInProgress.filter((function(e){return e!==t.userId}))]});default:return e}}},136:function(e,t,a){e.exports={item:"Post_item__16f_Q"}},14:function(e,t,a){e.exports={nav:"NavMenu_nav__3p8TW",item:"NavMenu_item__3hfDF",active:"NavMenu_active__1OZW2"}},141:function(e,t,a){e.exports={friendsElements:"NavFriends_friendsElements__1xggS"}},169:function(e,t,a){e.exports=a(298)},17:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return u}));var n=a(135),r=a(0),s=a.n(r),o=a(40),i=a.n(o),c=a(92),l=function(e){return function(t){var a=t.input,r=t.meta,o=r.touched,c=r.error,l=Object(n.a)(t,["input","meta"]),u=o&&c;return s.a.createElement("div",{className:i.a.formControl+" "+(u?i.a.error:"")},s.a.createElement("div",null,s.a.createElement(e,Object.assign({},a,l))),u&&s.a.createElement("span",null,c))}},u=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return s.a.createElement("div",null,s.a.createElement(c.a,Object.assign({placeholder:e,name:t,component:n,validate:a},r))," ",o)}},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},19:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));var n=a(139),r=n.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"40a499b6-4421-4c8e-b336-09492ab319c5"}}),s={getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e,t){return(e?r.post("follow/".concat(t)):r.delete("follow/".concat(t))).then((function(e){return e.data}))},getProfile:function(e){return console.warn("Obsolete method. Please use ProfileAPI object for getProfile"),i.getProfile(e)}},o={authMe:function(){return r.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return r.post("/auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return r.delete("/auth/login")},getCaptcha:function(){return r.get("/security/get-captcha-url")}},i={getProfile:function(e){return r.get("profile/"+e)},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status/",{status:e})},uploadPhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo/",t,{"Content-Type":"multipath/form-data"})},saveProfile:function(e){return r.put("profile",e)}}},296:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),s=a(68),o=a.n(s),i=(a(174),a(26)),c=a(27),l=a(28),u=a(29),m=(a(175),a(176),function(e){return r.a.createElement("div",null)}),p=a(93),d=a.n(p),f=a(136),v=a.n(f),h=function(e){return r.a.createElement("div",{className:v.a.item},r.a.createElement("img",{src:"https://avatarko.ru/img/kartinka/2/Gubka_Bob.jpg",alt:"Avatar"}),e.message,r.a.createElement("div",null,r.a.createElement("span",null,"likes "),e.likesCounts))},g=a(92),E=a(133),b=a(44),_=a(17),w=Object(b.a)(10,"post"),O=Object(_.a)("textarea"),y=Object(E.a)({form:"addPost"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(g.a,{component:O,name:"newPostText",placeholder:"Enter your post here",validate:[b.b,w]})),r.a.createElement("div",null,r.a.createElement("button",null,"Add post")))})),j=function(e){console.log("render MyPosts");var t=e.posts.map((function(e){return r.a.createElement(h,{message:e.message,key:e.id,likesCounts:e.likesCounts})}));return e.isOwner&&r.a.createElement("div",{className:d.a.posts_block},r.a.createElement("h3",null,"My posts"),r.a.createElement(y,{onSubmit:function(t){e.addPost(t.newPostText)}}),r.a.createElement("div",{className:d.a.posts},t))},P=a(10),k=a.n(P),I=a(18),N=a(48),S=a(11),C=a(19),x=a(31),A="s_way_1/pofile/ADD_POST",T="s_way_1/pofile/DELETE_POST",M="s_way_1/pofile/SET_STATUS",L={posts:[{id:1,message:"Hi, how are you?",likesCounts:15},{id:2,message:"It's my first post",likesCounts:20},{id:3,message:"BlaBla",likesCounts:30},{id:4,message:"Lala",likesCounts:40}],status:null,userProfile:null},U=function(e){return{type:"s_way_1/pofile/SET_USER_PROFILE",userProfile:e}},F=function(e){return{type:M,status:e}},B=function(e){return function(){var t=Object(I.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.b.getProfile(e);case 2:n=t.sent,a(U(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(S.a)({},e,{posts:[].concat(Object(N.a)(e.posts),[{id:5,message:t.newPostText,likesCounts:0}])});case T:return Object(S.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"s_way_1/pofile/SET_USER_PROFILE":return Object(S.a)({},e,{userProfile:t.userProfile});case M:return Object(S.a)({},e,{status:t.status});case"s_way_1/pofile/UPLOAD_PHOTO_SUCCESS":return Object(S.a)({},e,{userProfile:Object(S.a)({},e.userProfile,{photos:t.photos})});default:return e}},R=a(12),G=a(5),z=a(7),H=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,posts:this.props.posts})))}}]),a}(r.a.Component),J=Object(G.d)(Object(R.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(function(e){return{type:A,newPostText:e}}(t))}}})),z.g)(H),W=a(35),X=a(9),V=a.n(X),Z=a(43),K=a(130),Q=a.n(K),Y=a(73),q=a.n(Y),$=function(e){var t=Object(n.useState)(!1),a=Object(W.a)(t,2),s=a[0],o=a[1],i=Object(n.useState)(e.status),c=Object(W.a)(i,2),l=c[0],u=c[1];Object(n.useEffect)((function(){u(e.status)}),[e.status]);return r.a.createElement("div",null,!s&&r.a.createElement("div",{className:q.a.statusBlock},r.a.createElement("span",{className:q.a.statusMessage,onDoubleClick:e.isOwner&&function(){o(!0)}},e.isOwner?e.status||"Set status":e.status||"Status was't set")),s&&r.a.createElement("div",null,r.a.createElement("input",{className:q.a.statusInput,onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(l)},value:l})))},ee=(a(143),a(40)),te=a.n(ee),ae=Object(_.a)("input"),ne=Object(E.a)({form:"editProfile"})((function(e){var t=e.handleSubmit,a=e.error,n=e.initialValues;return r.a.createElement("form",{className:V.a.descriptionRightColunn,onSubmit:t},r.a.createElement("div",null,r.a.createElement("button",{className:V.a.editDescriptionButton},"save")),r.a.createElement("div",{className:V.a.descriptionItem},r.a.createElement("b",null,"Fullname: ")," ",Object(_.b)("Full name","fullName",[],ae)),r.a.createElement("div",{className:V.a.descriptionItem},r.a.createElement("b",null,"Contacts:")),r.a.createElement("div",{className:V.a.contactsBlock},Object.entries(n.contacts).map((function(e){var t=Object(W.a)(e,2),a=t[0];t[1];return r.a.createElement("div",{key:a},r.a.createElement("b",null,a),":",Object(_.b)("","contacts."+a,[],ae))}))),r.a.createElement("div",{className:V.a.descriptionItem},r.a.createElement("b",null,"Looking for a job:"),Object(_.b)("","lookingForAJob",[],ae,{type:"checkbox"})),r.a.createElement("div",{className:V.a.descriptionItem},r.a.createElement("b",null,"My professionals skills:"),Object(_.b)("My professionals skills","lookingForAJobDescription",[],ae)),r.a.createElement("div",{className:V.a.descriptionItem},r.a.createElement("b",null,"About me:")),r.a.createElement("div",{className:V.a.descriptionItem},Object(_.b)("About me","aboutMe",[],ae)),a&&r.a.createElement("div",{className:te.a.formSummaryError},a))})),re=function(e){var t=e.userProfile,a=e.isOwner,n=e.goToEditMode;return r.a.createElement("div",{className:V.a.descriptionRightColunn},a&&r.a.createElement("div",null,r.a.createElement("button",{className:V.a.editDescriptionButton,onClick:n},"edit")),r.a.createElement("div",{className:V.a.descriptionItem},r.a.createElement("b",null,"Fullname:")," ",t.fullName),r.a.createElement("div",{className:V.a.descriptionItem},r.a.createElement("b",null,"Contacts:")),r.a.createElement("div",{className:V.a.contactsBlock},Object.entries(t.contacts).map((function(e){var t=Object(W.a)(e,2),a=t[0],n=t[1];return n?r.a.createElement("div",{key:a},r.a.createElement("b",null,a),": ",r.a.createElement("a",{className:V.a.contactLink,target:"_blank",href:n},n)):null}))),r.a.createElement("div",{className:V.a.descriptionItem},r.a.createElement("b",null,"Looking for a job:")," ",t.lookingForAJob?"Yes":"No"),t.lookingForAJob&&r.a.createElement("div",{className:V.a.descriptionItem},r.a.createElement("b",null,"My professionals skills:")," ",t.lookingForAJobDescription),r.a.createElement("div",{className:V.a.descriptionItem},r.a.createElement("b",null,"About me:")),r.a.createElement("div",{className:V.a.descriptionItem},t.aboutMe))},se=function(e){var t=e.isOwner,a=e.userProfile,s=e.status,o=e.updateStatus,i=e.uploadPhoto,c=e.saveProfile,l=Object(n.useState)(!1),u=Object(W.a)(l,2),m=u[0],p=u[1];if(!a)return r.a.createElement(Z.a,null);return r.a.createElement("div",null,r.a.createElement("div",{className:V.a.description},r.a.createElement("div",{className:V.a.avaBlock},r.a.createElement("div",{className:V.a.ava_img},r.a.createElement("img",{src:a.photos.large||Q.a,alt:"Avatar"}),t&&r.a.createElement("div",null,r.a.createElement("input",{className:V.a.avaInput,id:"avaFile",type:"file",onChange:function(e){e.target.files.length&&i(e.target.files[0])}}),r.a.createElement("label",{className:V.a.avaInputLabel,for:"avaFile"},"Choose a file"))),r.a.createElement("div",null,r.a.createElement($,{status:s,isOwner:t,updateStatus:o}))),m?r.a.createElement(ne,{initialValues:a,onSubmit:function(e){c(e).then((function(){p(!1)}))},offEditMode:function(){p(!1)}}):r.a.createElement(re,{className:V.a.descriptionRightColunn,userProfile:a,isOwner:t,goToEditMode:function(){p(!0)},deactivateEditMode:function(){p(!1)}})))},oe=function(e){var t=e.isOwner,a=e.userProfile,n=e.status,s=e.updateStatus,o=e.uploadPhoto,i=e.saveProfile;return r.a.createElement("div",null,r.a.createElement(se,{isOwner:t,userProfile:a,status:n,saveProfile:i,updateStatus:s,uploadPhoto:o}),r.a.createElement(J,null))},ie=a(67),ce=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId||this.props.auth.userId;this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(oe,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,userProfile:this.props.userProfile,status:this.props.status,updateStatus:this.props.updateStatus,uploadPhoto:this.props.uploadPhoto})))}}]),a}(r.a.Component),le=Object(G.d)(Object(R.b)((function(e){return{userProfile:e.profilePage.userProfile,status:e.profilePage.status,auth:e.auth}}),{setUserProfile:U,getUserProfile:B,getStatus:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.b.getStatus(e);case 2:n=t.sent,a(F(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.b.updateStatus(e);case 3:0===t.sent.data.resultCode?a(F(e)):a(F("Can't load status message from server")),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},uploadPhoto:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.b.uploadPhoto(e);case 2:200===(n=t.sent).status&&a({type:"s_way_1/pofile/UPLOAD_PHOTO_SUCCESS",photos:n.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(a,n){var r,s;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,C.b.saveProfile(e);case 3:if(r=t.sent,console.log(r),0!==r.data.resultCode){t.next=9;break}a(B(n().auth.userId)),t.next=13;break;case 9:return s={},r.data.messages.forEach((function(e){s[/(?<=Contacts->)[A-z]+/.exec(e)[0].toLowerCase()]=e})),r.data.messages&&a(Object(x.a)("editProfile",{contacts:s})),t.abrupt("return",Promise.reject());case 13:case 14:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),z.g,ie.a)(ce),ue=(a(296),function(e){return r.a.createElement("div",null)}),me=(a(297),function(e){return r.a.createElement("div",null)}),pe=a(14),de=a.n(pe),fe=a(23),ve=function(e){return r.a.createElement("nav",{className:de.a.nav},r.a.createElement("div",{className:"".concat(de.a.item," ").concat(de.a.active)},r.a.createElement(fe.b,{to:"/profile",activeClassName:de.a.active},"Profile")),r.a.createElement("div",{className:de.a.item},r.a.createElement(fe.b,{to:"/dialogs",activeClassName:de.a.active},"Messages")),r.a.createElement("div",{className:de.a.item},r.a.createElement(fe.b,{to:"/users",activeClassName:de.a.active},"Users")),r.a.createElement("div",{className:de.a.item},r.a.createElement(fe.b,{to:"/news",activeClassName:de.a.active},"News")),r.a.createElement("div",{className:de.a.item},r.a.createElement(fe.b,{to:"/music",activeClassName:de.a.active},"Music")),r.a.createElement("div",{className:de.a.item},r.a.createElement(fe.b,{to:"/settings",activeClassName:de.a.active},"Settings")))},he=a(141),ge=a.n(he),Ee=a(74),be=a.n(Ee),_e=function(e){return r.a.createElement("div",{className:be.a.NavFriendsItem},r.a.createElement("img",{className:be.a.ava_img,src:e.ava,alt:""}),r.a.createElement("span",{className:be.a.nickname},e.nickname))},we=function(e){var t=e.friends.map((function(e){return r.a.createElement(_e,{nickname:e.nickname,key:e.id,ava:e.ava})}));return r.a.createElement("div",null,r.a.createElement("h3",null,"Friends"),r.a.createElement("div",{className:ge.a.friendsElements},t))},Oe=function(e){return e.isAuth&&r.a.createElement("div",null,r.a.createElement(ve,null),r.a.createElement(we,{friends:e.friends}))},ye=Object(R.b)((function(e){return{friends:e.navigationData.friends,isAuth:e.auth.isAuth}}),(function(e){return{}}))(Oe),je=a(75),Pe=a.n(je),ke=function(e){return r.a.createElement("header",{className:Pe.a.header},r.a.createElement("img",{src:"https://www.quizony.com/company-name-generator/imageForSharing.jpg",alt:"Company name"}),r.a.createElement("div",{className:Pe.a.loginBlock},e.isAuth?r.a.createElement("div",null,r.a.createElement("div",null,e.login," : ",e.userId),r.a.createElement("button",{className:Pe.a.logoutButton,onClick:e.doLogout},"Log out")):r.a.createElement(fe.b,{to:"/login"},"Login")))},Ie="s_way_1/auth/SET_USER_DATA",Ne="s_way_1/auth/GET_CAPTCHA_IRL",Se={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},Ce=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:Ie,payload:{userId:e,email:t,login:a,isAuth:n,captchaUrl:r}}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:Ne,payload:{captchaUrl:e}}},Ae=function(){return function(){var e=Object(I.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.getCaptcha();case 2:(a=e.sent).data.url&&t(xe(a.data.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Te=function(){return function(){var e=Object(I.a)(k.a.mark((function e(t){var a,n,r,s,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.authMe();case 2:0===(a=e.sent).data.resultCode&&(n=a.data.data,r=n.id,s=n.login,o=n.email,t(Ce(r,o,s,!0)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Me=function(){return function(){var e=Object(I.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.logout();case 2:0===e.sent.data.resultCode&&t(Ce(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:case Ne:return Object(S.a)({},e,{},t.payload);default:return e}},Ue=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return this.props.isAuth&&r.a.createElement(ke,this.props)}}]),a}(r.a.Component),Fe=Object(G.d)(Object(R.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,userId:e.auth.userId}}),{doLogout:Me}),ie.a)(Ue),Be=a(49),De=a.n(Be),Re=Object(_.a)("input"),Ge=Object(E.a)({form:"login"})((function(e){var t=e.handleSubmit,a=e.error,n=e.captchaUrl,s=e.getCaptcha;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:De.a.loginArea},r.a.createElement("div",{className:De.a.loginForm},Object(_.b)("Email...","email",[b.b],Re),Object(_.b)("Password...","password",[b.b],Re,{type:"password"}),r.a.createElement("div",{className:De.a.rememberMeArea},r.a.createElement(g.a,{type:"checkbox",name:"rememberMe",component:Re,className:De.a.rememberMeBox}),r.a.createElement("span",{className:De.a.rememberMeText},"remember me")),a&&r.a.createElement("div",{className:te.a.formSummaryError},a),r.a.createElement("div",null,r.a.createElement("button",null,"Sign in")),n&&r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{onClick:s,src:n,alt:"CaptchaImg"})),Object(_.b)("Input captcha data","captchaString",[],Re)))))})),ze=function(e){return e.isAuth?r.a.createElement(z.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement(Ge,{onSubmit:function(t){e.doLogin(t.email,t.password,t.rememberMe,t.captchaString)},captchaUrl:e.captchaUrl,getCaptcha:e.getCaptcha}))},He=Object(R.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{doLogin:function(e,t,a,n){return function(){var r=Object(I.a)(k.a.mark((function r(s){var o,i;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,C.a.login(e,t,a,n);case 2:0===(o=r.sent).data.resultCode?s(Te()):(10===o.data.resultCode&&s(Ae()),i=o.data.messages.length>0?o.data.messages[0]:"Some error",s(Object(x.a)("login",{_error:i})));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},doLogout:Me,getCaptcha:Ae})(ze),Je={initialized:!1},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"s_way_1/app/SET_INITIALIZED":return Object(S.a)({},e,{initialized:!0});default:return e}},Xe=a(131),Ve={friends:[{id:1,nickname:"Dimon",ava:"https://www.allremont59.ru/wp-content/uploads/2018/02/anonymity-300x300.jpg"},{id:2,nickname:"Vasiliy",ava:"https://www.allremont59.ru/wp-content/uploads/2018/02/anonymity-300x300.jpg"},{id:3,nickname:"tilipon85",ava:"https://www.allremont59.ru/wp-content/uploads/2018/02/anonymity-300x300.jpg"},{id:4,nickname:"tilipon85",ava:"https://www.allremont59.ru/wp-content/uploads/2018/02/anonymity-300x300.jpg"},{id:5,nickname:"tilipon85",ava:"https://www.allremont59.ru/wp-content/uploads/2018/02/anonymity-300x300.jpg"},{id:6,nickname:"tilipon85",ava:"https://www.allremont59.ru/wp-content/uploads/2018/02/anonymity-300x300.jpg"},{id:7,nickname:"tilipon85",ava:"https://www.allremont59.ru/wp-content/uploads/2018/02/anonymity-300x300.jpg"},{id:8,nickname:"tilipon85",ava:"https://www.allremont59.ru/wp-content/uploads/2018/02/anonymity-300x300.jpg"}]},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;arguments.length>1&&arguments[1];return e},Ke=a(132),Qe=a(142),Ye=a(134),qe=Object(G.c)({profilePage:D,dialogsPage:Xe.a,navigationData:Ze,usersPage:Ke.a,auth:Le,app:We,form:Ye.a}),$e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.d,et=Object(G.e)(qe,$e(Object(G.a)(Qe.a)));window.__store__=et;var tt=et,at=function(e){return function(t){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(Z.a,null)},r.a.createElement(e,null))}},nt=r.a.lazy((function(){return a.e(3).then(a.bind(null,305))})),rt=r.a.lazy((function(){return a.e(4).then(a.bind(null,304))})),st=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhadledErrors=function(e){alert("Some error occured")},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getAuthUserData(),this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhadledErrors)}},{key:"componentWillMount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhadledErrors)}},{key:"render",value:function(){return this.props.initialized?this.props.isAuth?r.a.createElement("div",null,r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(Fe,null),r.a.createElement(ye,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(z.d,null,r.a.createElement(z.b,{exact:!0,path:"/",render:function(){return r.a.createElement(z.a,{to:"/profile"})}}),r.a.createElement(z.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(le,null)}}),r.a.createElement(z.b,{exact:!0,path:"/dialogs",render:at(nt)}),r.a.createElement(z.b,{exact:!0,path:"/news  ",render:function(){return r.a.createElement(m,null)}}),r.a.createElement(z.b,{exact:!0,path:"/music",render:function(){return r.a.createElement(ue,null)}}),r.a.createElement(z.b,{exact:!0,path:"/users",render:at(rt)}),r.a.createElement(z.b,{exact:!0,path:"/settings",render:function(){return r.a.createElement(me,null)}}),r.a.createElement(z.b,{render:function(){return r.a.createElement("div",null,"404 NOT FOUND")}}))))):r.a.createElement(He,null):r.a.createElement(Z.a,null)}}]),a}(r.a.Component),ot=Object(G.d)(z.g,Object(R.b)((function(e){return{initialized:e.app.initialized,isAuth:e.auth.isAuth}}),{initializeApp:function(){return function(e){var t=e(Te());Promise.all([t]).then((function(){e({type:"s_way_1/app/SET_INITIALIZED"})}))}},getAuthUserData:Te}))(st),it=function(e){return r.a.createElement(fe.a,null,r.a.createElement(R.a,{store:tt},r.a.createElement(ot,null)))};o.a.render(r.a.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},40:function(e,t,a){e.exports={formControl:"FormsControl_formControl__1PMmA",error:"FormsControl_error__3Zj-b",formSummaryError:"FormsControl_formSummaryError__2JJXT"}},43:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(98),o=a.n(s);t.a=function(e){return r.a.createElement("div",{className:o.a.preloader},r.a.createElement("div",{className:o.a.ldsRoller},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}},44:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){return e?void 0:"Field is required"},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"item";return function(a){return a.length&&a.length>e?"Max length of ".concat(t," is ").concat(e," symbols"):void 0}}},49:function(e,t,a){e.exports={loginArea:"Login_loginArea__2tkpl",loginForm:"Login_loginForm__287nU",rememberMeArea:"Login_rememberMeArea__RlESh",rememberMeBox:"Login_rememberMeBox__2XIkg",rememberMeText:"Login_rememberMeText__11tjl",form:"Login_form__HzneB"}},67:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(26),r=a(27),s=a(28),o=a(29),i=a(0),c=a.n(i),l=a(7),u=a(12),m=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(o.a)(i,t);var a=Object(s.a)(i);function i(){return Object(n.a)(this,i),a.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(l.a,{to:"/login"})}}]),i}(c.a.Component);return Object(u.b)(m)(t)}},73:function(e,t,a){e.exports={statusBlock:"ProfileStatus_statusBlock__2bz9_",statusMessage:"ProfileStatus_statusMessage__2ZKTu",statusInput:"ProfileStatus_statusInput__-Idqu"}},74:function(e,t,a){e.exports={NavFriendsItem:"NavFriendsItem_NavFriendsItem__1Pv9j",ava_img:"NavFriendsItem_ava_img__QU4EC",nickname:"NavFriendsItem_nickname__1QeKw"}},75:function(e,t,a){e.exports={header:"Header_header__wL-eF",loginBlock:"Header_loginBlock__19BMJ",logoutButton:"Header_logoutButton__BDQlU"}},9:function(e,t,a){e.exports={description:"ProfileInfo_description__3XD5g",contactsBlock:"ProfileInfo_contactsBlock__3b1rI",descriptionRightColunn:"ProfileInfo_descriptionRightColunn__2tmAT",descriptionItem:"ProfileInfo_descriptionItem__1p3AV",editDescriptionButton:"ProfileInfo_editDescriptionButton__2Te7C",ava_img:"ProfileInfo_ava_img__2C-vk",avaInput:"ProfileInfo_avaInput__2voT2",avaBlock:"ProfileInfo_avaBlock__124MO",avaInputLabel:"ProfileInfo_avaInputLabel__2uA6c",contactLink:"ProfileInfo_contactLink__3AULy"}},93:function(e,t,a){e.exports={posts_block:"MyPosts_posts_block__3l3wg",posts:"MyPosts_posts__386k2"}},98:function(e,t,a){e.exports={preloader:"Preloader_preloader__3axXf",ldsRoller:"Preloader_ldsRoller__3K6GI"}}},[[169,1,2]]]);
//# sourceMappingURL=main.0e8cc13b.chunk.js.map